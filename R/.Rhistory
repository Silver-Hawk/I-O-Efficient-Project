"AND cost > 0"
)
q <- paste0(
"SELECT Device AS device,",
"Cost AS cost,",
"SubId AS subid,",
"KeywordText AS keyword,",
"report_download_date AS date,",
"report_download_hour AS hour ",
"FROM adwords_keywords_details ",
"WHERE UNIX_TIMESTAMP(report_download_date) BETWEEN UNIX_TIMESTAMP('",dateFrom,"') AND UNIX_TIMESTAMP('",dateTo,"') ",
"AND cost > 0"
)
fairbanker <- dbGetQuery(fairBankerKeywordsCon,q)
fairBankerKeywordsCon <- dbConnect(MySQL(),
user = 'mtoudvdk',
password = 'lj72Pb2D1w',
host = '77.66.117.36',
dbname='mtoudvdk_1')
fairbanker <- dbGetQuery(fairBankerKeywordsCon,q)
fairbanker[1:10,]
keywords <- unique(fairbanker$keyword)
keywords
lpu25 <- fairbanker[which(fairbanker$keyword=="lån penge under 25"),]
lpu25
plot(lpu25)
plot(lpu25$cost)
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
lu
lpu25
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
lpu25
fairbanker
fairbanker[1:10,]
which.max(fairbanker$keyword)
hist(fairbanker$keyword)
hist(as.numeric(fairbanker$keyword))
lpu25 <- fairbanker[which(fairbanker$keyword=="låne"),]
plot(lpu25$cost)
plot(lpu25$cost)
plot(lpu25$cost~lpu25$hour)
lpu25
apply(keywords, MARGIN = 1, f)
f <- function(key){
d <- fairbanker[which(fairbanker$keyword == key),]
}
apply(keywords, MARGIN = 1, f)
keywords
d <- fairbanker[which(fairbanker$keyword == key),]
apply(keywords, MARGIN = 1, f)
?mapply
keywords <- unique(fairbanker$keyword)
for(i in range(1:length(keywords)){
print(keywords[i,])
}
for(i in range(1:length(keywords)){
print(keywords[i,])
}
for(i in range(1:length(keywords))){
print(keywords[i,])
}
for(i in range(1:length(keywords))){
print(keywords[i])
}
fairbanker <- dbGetQuery(fairBankerKeywordsCon,q)
keywords <- unique(fairbanker$keyword)
for(i in range(1:length(keywords))){
print(keywords[i])
}
range(1:length(keywords))
for(i in 1:length(keywords)){
print(keywords[i])
}
keywords <- unique(fairbanker$keyword)
for(i in 1:length(keywords)){
key <- keywords[i]
df <- fairbanker[which(fairbanker$keyword == key),]
print(df)
}
for(i in 1:length(keywords)){
# current keyword
key <- keywords[i]
# get all rows for keyword
df <- fairbanker[which(fairbanker$keyword == key),]
# performance pr day
days <- unique(df$date)
for(j in 1:length(days)){
# day
day <- days[i]
# cost for day
day_cost <- max(df[which(df$date == day),]$cost)
print(day_cost)
}
}
print(days)
df <- fairbanker[which(fairbanker$keyword == key),]
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
for(i in 1:length(keywords)){
# current keyword
key <- keywords[i]
# total cost for keyword
keyword_total <- 0
# get all rows for keyword
df_key <- fairbanker[which(fairbanker$keyword == key),]
# FOR EACH DAY --------------------------------------------------------------
# unique days for keyword
days <- unique(df_key$date)
for(j in 1:length(days)){
# each row with 'key' on 'date'
df_key_date <- df_key[which(df_key$date == days[j]),]
# FOR EACH DEVICE --------------------------------------------------------
# Computers
cost_computer <- max(df_key_date[which(df_key_date$device == "Computers"),]$cost)
cost_tablet <- max(df_key_date[which(df_key_date$device == "Tablets with full browsers"),]$cost)
cost_mobile <- max(df_key_date[which(df_key_date$device == "Mobile devices with full browsers"),]$cost)
print(cost_computer,cost_tablet,cost_mobile)
}
}
# FOR EACH KEYWORD -------------------------------------------------------------
for(i in 1:length(keywords)){
# current keyword
key <- keywords[i]
# total cost for keyword
keyword_total <- 0
# get all rows for keyword
df_key <- fairbanker[which(fairbanker$keyword == key),]
# FOR EACH DAY --------------------------------------------------------------
# unique days for keyword
days <- unique(df_key$date)
for(j in 1:length(days)){
# each row with 'key' on 'date'
df_key_date <- df_key[which(df_key$date == days[j]),]
# FOR EACH DEVICE --------------------------------------------------------
# Computers
cost_computer <- max(df_key_date[which(df_key_date$device == "Computers"),]$cost)
cost_tablet <- max(df_key_date[which(df_key_date$device == "Tablets with full browsers"),]$cost)
cost_mobile <- max(df_key_date[which(df_key_date$device == "Mobile devices with full browsers"),]$cost)
print(cost_computer)
print(cost_tablet)
print(cost_mobile)
}
}
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
result <- data.frame()
result
rbind(c(key,keyword_total))
result <- List()
result <- List
list
result <- list
result
result <- list(rbind(c(key,keyword_total)))
result
?append
result <- append(result,rbind(c(key,keyword_total)))
result
result <- append(result,list(rbind(c(key,keyword_total))))
result
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
result
as.data.frame(result)
result <- data.frame()
as.data.frame(result)
result
result <- rbind(result,c(key,keyword_total)
)
result
result <- names(c("key","cost"))
result <- rbind(result,c(key,keyword_total))
result
result <- rbind(result,c(key,keyword_total))
result
result
result <- names(c("key","cost"))
result
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
result
result <- rbind(result,c(key,day,keyword_total))
day_result = data.frame()
colnames(result) <- c("date","keyword","computer","tablet","mobile")
result <- data.frame()
colnames(result) <- c("date","keyword","computer","tablet","mobile")
result <- data.frame(
date = character(0),
keyword = character(0),
computer = numeric(0),
tablet = numeric(0),
mobile = numeric(0))
result
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
print(new_row)
result
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
result <- concat([result,new_row])
result <- concat(result,new_row)
result <- rbind(result,new_row)
new_row <- c(day,key,cost_computer,cost_tablet,cost_mobile)
result <- rbind(result,new_row)
result <- rbind(result,new_row)
result <- rbind(result,new_row)
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
result <- list()
result
new_row <- list(day,key,cost_computer,cost_tablet,cost_mobile)
result <- append(result,new_row)
result
new_row
new_row <- list(c(day,key,cost_computer,cost_tablet,cost_mobile))
new_row
result <- append(result,new_row)
new_row
result
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
result
as.data.frame(result)
as.data.frame(result)
lol <- as.data.frame(result)
str(lol)
lol$c..2015.09.12....minicreditos....34.79....4.63....8.6..
?as.data.frame
lol <- as.data.frame(result)
lol$c..2015.09.12....minicreditos....34.79....4l.63....8.6..
lol
rownames(lol) <- lol[,1]
lol
lol
lol
rownames(lol) <- lol[,1]
rownames(lol) <- lol[,1]
lol
str(lol)
rownames(lol) <- lol[,2]
lol
lol
str(lol)
lol <- as.data.frame(result,result[,2])
lol <- as.data.frame(result,result[])
lol <- as.data.frame(result,"hej")
lol <- as.data.frame(result,lapply(result, function(l) l$date))
lol <- as.data.frame(result,lapply(result, function(l) l[3]))
lapply(result,function(x) x)
lapply(result,function(x) x[[1]])
lapply(result,function(x) x[[2]])
lol <- as.data.frame(result,lapply(result,function(x) x[[2]]))
lapply(result,function(x) x[1])
lapply(result,function(x) x)
lol <- as.data.frame(result,c("date","keyword","c","t","m")))
lol <- as.data.frame(result,c("date","keyword","c","t","m"))
lol
str(lol)
names(lol)
rename(lol) <- lapply(result,function(x) x[[2]])
library plyr
library(plyr)
rename(lol) <- lapply(result,function(x) x[[2]])
rename(lol) <- lapply(result,function(x) x[[2]])
rename(lol,lapply(result,function(x) x[[2]]))
rename(lol,lapply(result,function(x) x[[2]]))
library(plyr)
lapply(result,function(x) x)
lapply(result,function(x) x[[2]])
str(lol)
count(lol)
str(lol)
names(lol)
rename(lol,lapply(result,function(x) x[[2]]))
l <- data.frame(unlist(result))
l
l <- data.frame(unlist(result),nrow(result)
)
l <- data.frame(unlist(result),length(result))
l
l <- data.frame(unlist(result),length(result),byrow = T)
l
l <- data.frame(matrix(unlist(result),length(result),byrow = T))
l
str(data.frame(matrix(unlist(result),length(result),byrow = T)))
l <- data.frame(matrix(unlist(result),length(result),byrow = T))
l
names(l)
result
l <- data.frame(matrix(unlist(result),length(result),byrow = T))
l
names(result) <- c("date","keyword","computer","tablet","mobile")
str(result)
result <- data.frame(matrix(unlist(result),length(result),byrow = T))
names(result) <- c("date","keyword","computer","tablet","mobile")
str(result)
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
str(result)
result[1:100,]
result <- result[order(as.Date(result$date, format="%Y-%m-%d")),]
result
print(nrow(fairbanker)
)
plot(result$computer)
plot(result$computer~result$keyword)
plot(result$computer~unique(result$keyword))
plot(result$computer~result$date)
test <- result[which(result$keyword =="sms+lån"),]
test
plot(test$computer)
plot(test$computer~test$date)
plot(test$date)
plot(test$date~test$computer)
plot(test)
plot(test$computer)
plot(test$computer,y = test$date)
plot(y = test$computer,x = test$date)
plot(y = test$computer)
plot(test$computer)
plot(test[,3])
test[,2]
test[,3]
test
result
str(result)
as.matrix(result)
plot(as.matrix(result))
plot(as.matrix(result)[,3])
plot(as.matrix(test)[,3])
t <- as.matrix(result)
t
t <- as.data.frame(as.matrix(result))
t
plot(t$computer)
hist(t$keyword)
hist(as.matrix(t)[,2])
hist(as.factor(as.matrix(t)[,2]))
hist(as.matrix(t)[,3])
hist(as.matrix(t))
result
str(result)
t
t <- as.matrix.data.frame(result)
t
str(t)
as.matrix(result)
t <-as.matrix(result)
t
str(t)
factor(t[,1])
t
t[which(t[,2] == "sms+lån"),]
p <- t[which(t[,2] == "sms+lån"),]
plot(p)
plot(p[,3])
plot(p[,4])
plot(p[,5])
plot(p[,3]~p[,1])
p[,1] as.Date(p[,1])
result
str(result)
result$date <- as.Date(result$date)
result
plot(result$date,result$computer)
t <- result[which(result[,2]),]
t <- result[which(result$keyword == "sms+lån"),]
t
plot(t$date,t$computer)
plot(t$date,t$table)
plot(t$date,t$table,type = "l")
plot(t$date,t$computer,type = "l")
result$date <- as.Date(result$date,format="%Y-%m-%d")
result
result <- result[order(result$date),]
result
source('~/Dropbox/mto/MTO-BI/keywords/fairbanker.R', echo=TRUE)
require(ggplot2)
install.packages("ggplot2")
ggplot( data = result, aes( date, computer )) + geom_line()
library(ggplot2)
ggplot( data = result, aes( date, computer )) + geom_line()
ggplot( data = result, aes( date, computer,keywords )) + geom_line()
ggplot( data = result, aes(computer )) + geom_line()
?ggplot
ggplot(result)
ggplot(result$computer)
ggplot( data = result, aes( date, computer,keywords )) + geom_line()
?ggplot
t <- result[which(result$keyword == "sms+lån"),]
t <- result[which(result$keyword == "sms+lån"),]
plot(t$date,t$computer)
plot(t$date,t$computer,type = "l")
ggplot(t$date,t$computer,type = "l")
ggplot(aes(t$date,t$computer),type = "l")
ggplot(df = t,aes(date,computer),type = "l")
str(t)
t$computer as.numeric(t$computer)
t$computer <- as.numeric(t$computer)
t
str(t)
result$keyword <- as.character(result$keyword)
str(t)
str(resujlt)
str(result)
result
result$computer <- as.numeric(result$computer)
result$keyword <- as.character(result$keyword)
result$computer <- as.numeric(result$computer)
result$tablet <- as.numeric(result$tablet)
result$mobile <- as.numeric(result$mobile)
result <- result[order(result$date),]
t <- result[which(result$keyword == "sms+lån"),]
ggplot(df = t,aes(date,computer),type = "l")
ggplot(df = t,aes(date,computer))
?ggplot
ggplot(df = t,aes(date,computer))+geom_line()
ggplot(df = t,mapping = aes(date,computer))
ggplot(df = t,mapping = aes(date,computer))
ggplot(date = t,mapping = aes(date,computer))
ggplot(data = t,mapping = aes(date,computer))
ggplot(data = t,mapping = aes(date,computer))
t$computer <- as.numeric(t$computer)
ggplot(data = t,mapping = aes(date,computer))
ggplot(t,aes(date,computer))
ggplot(t,aes(date,computer))+geom_line(
)
ggplot(t,aes(date,computer))+geom_line()
200+6*100+2*50+2*40+3*20+9*5+7*2+2+2
200 + 6*100 + 2*50 + 2*20 + 3*10 + 9*5 + 7*2 +2 + 2
200 + 6*100 + 2*50 + 2*20 + 3*10 + 9*5 + 7*2 +2 + 2
200 + 6*100 + 2*50 + 2*20 + 3*10 + 9*5 + 7*2 +2 + 2
200 + 6*100 + 2*50 + 2*20 + 3*10 + 9*5 + 7*2 +2 + 2
200+50+200 + 6*100 + 2*50 + 2*20 + 3*10 + 9*5 + 7*2 +2 + 2
200 +6*100 + 3*50+ 6*20+6*10+8*5+6*2+2+2
250 + 200 + 6*100 + 3*50 + 6*20 + 6*10 + 8*5 + 6*2 + 2 + 2
(250 + 200 + 6*100 + 3*50 + 6*20 + 6*10 + 8*5 + 6*2 + 2 + 2)-155
(250 + 200 + 6*100 + 3*50 + 6*20 + 6*10 + 8*5 + 7*2 + 2 + 2)-155
90+5+10+20+50+50
12%5
12 % 5
12 % 5
12 %% 5
12 %% 3
12 / 3
12 / 5
12 %% 5
12 %% 5
floor(12/5)
13 %% 5
floor(13/5)
16*175
4*16*175
source('~/Dropbox/mto/MTO-BI/impressions/basic.R', echo=TRUE)
a = c(1,1)
a
a[1]
a[2]
a[3]
a[0]
source('~/.active-rstudio-document', echo=TRUE)
sign((Bx - Ax) * (Y - Ay) - (By - Ay) * (X - Ax))
1*500 + 7 * 200 + 13*100 + 4*50 + 13*20 + 5*10 + 49*5 + 50*2 + 28
1*500 + 7 * 200 + 13*100 + 4*50 + 13*20 + 5*10 + 49*5 + 50*2 + 27
1*500 + 7*200 + 14*100 + 3*50 + 13*20 + 7*10 + 50*5 + 51*2 + 29 + 1
iKasse -> 1*500 + 7*200 + 14*100 + 3*50 + 13*20 + 7*10 + 50*5 + 51*2 + 29 + 1
iKasse <- 1*500 + 7*200 + 14*100 + 3*50 + 13*20 + 7*10 + 50*5 + 51*2 + 29 + 1
x <- 1*500 + 7*200 + 14*100 + 3*50 + 13*20 + 7*10 + 50*5 + 51*2 + 29 + 1
x-80
x
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
?pdf
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
part3 <- read.table("alg_output/part3_output")
part3
part3 <- read.table("alg_output/part3_output",sep = ",")
part3
part3 <- read.table("alg_output/part3_output",sep = ",",header = T)
part3
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
part3
str(part3)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
part3
part1 <- read.table("alg_output/part1_output",sep = ",",header = TRUE)
part1
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
source('~/Dropbox/Datalogi/DM207/assignments/ass1/I-O-Efficient-Project/R/script.R', echo=TRUE)
part2 <- read.table("alg_output/part2_output",sep = ",",header = T)
part2
part2$nlogn_time <- part2$time/nlogn(part2$n)
part2
